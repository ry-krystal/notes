#### 移除不存在的元素

在更新子节点时，不仅会遇到新增元素，还会出现元素被删除的情况，如图所示：


```js
  function patchChildren(n1, n2, container) {
    if (typeof n2.children ==== 'string') {
      // ...
    } else if (Array.isArray(n2.children)) {
      const oldChildren = n1.children
      const newChildren = n2.children

      let lastIndex = 0
      for(let i = 0; i < newChildren.length; i++) {
        // ...
      }

      // 上一步的更新操作完成后
      // 遍历旧的一组子节点
      for(let i = 0; i < oldChildren.length; i++) {
        const oldVNode = oldChildren[i]
        // 拿旧子节点oldVNode 去新的一组子节点中寻找具有相同key值的节点
         const has = newChildren.find(vnode => vnode.key === oldVNode.key)

         if (!has) {
          // 如果没有找到具有相同key值的节点，则说明需要删除该节点
          // 调用unmount函数将其卸载
          unmount(oldVNode)
         }
      }
    } else {
      // ...
    }
  }
```